<body class="leading-normal tracking-normal text-indigo-400 m-6 bg-cover bg-fixed" style="background-image: url('');">
  <div class="h-full">
    <app-header></app-header>
  </div>
  <hr class="mt-6 mb-6">
  <div>
    <div class="px-4 sm:px-0">
      <div class="flex justify-between">
        <p class="text-3xl leading-7 text-indigo-400 text-shadow-md font-bold">{{event.title}}</p>
        <button (click)="openComplaintDialog()" 
        class="text-pink-500 font-bold text-lg">ðŸ›‡</button>
      </div>
      <img *ngIf="image" src="{{image}}" class="img" alt="Cover">
      <p class="mt-1 max-w-2xl text-base leading-6 text-gray-500">This event is available to persons
        <span class="font-bold text-lg text-pink-400">{{event.ageLimit}}+</span>
      </p>
    </div>

    <div *ngIf="isComplaint" class="bg-pink-100 rounded-md mb-5 shadow-sm p-2 max-w-md items-center text-pink-500">
      <p class="text-pink-500 font-bold text-lg">Is there something wrong with this event?</p>
      <label class="text-gray-500">&#10022; You can submit a complaint, which will be reviewed by the
        moderator.</label><br>
      <label class="mt-3">Select a violation category</label>
      <div class="flex">
        <select id="categorySelect" name="category" autocomplete="category-title" [(ngModel)]="complaint" class="block pl-3 w-full rounded-md border-0 
            py-1.5 text-gray-900 shadow-sm ring-1 
              ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 
              sm:max-w-xs sm:text-sm sm:leading-6">
          <option *ngFor="let cat of complaintsCategory" [value]="cat.id">{{cat.title}} {{cat.description}}
          </option>
        </select>

        <button (click)="sendComplaint()" class="ml-3 font-bold text-lg">Send</button>
      </div>
    </div>

    <app-event-registration></app-event-registration>
    <div class="mt-10">
      <p class="text-lg text-gray-700 font-bold">Event information</p>
      <div class="border-t border-gray-100">
        <dl class="divide-y divide-gray-100">
          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm font-medium leading-6 text-gray-900">Title</dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">{{ event.title }}</dd>
          </div>
          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm font-medium leading-6 text-gray-900">Address</dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
              {{ location.details }} - {{ city.cityName }} - {{ country.countryName }} </dd>
          </div>
          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm font-medium leading-6 text-gray-900">Date</dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">From
              <span class="text-green-500">{{ event.startDate | date :"MMM d - h:mm a YYYY" }}</span> To
              <span class="text-green-500">{{ event.endDate | date :"MMM d - h:mm a YYYY"}}</span>
            </dd>
          </div>
          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm font-medium leading-6 text-gray-900">About</dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
              {{ event.description | ellipsis: 100}}
            </dd>
          </div>

          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm font-medium leading-6 text-gray-900">Organizer</dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">{{ organizer.username }}
              <br><span class="text-gray-500 text-xs">You can view the organizer's </span>
              <button class="rounded-md text-indigo-500
          text-sm leading-6 hover:text-indigo-400 
          focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 
          focus-visible:outline-indigo-600" (click)="navigateToUserProfile(organizer.id)">
                profile</button>
            </dd>
          </div>

          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm font-medium leading-6 text-gray-900">Category</dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">{{ category.title }}:
              <span class="text-pink-400">{{ category.description }}</span>
            </dd>
          </div>
          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm font-medium leading-6 text-gray-900">Format</dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">{{ organizer.username }},
              <span class="text-blue-400">{{ organizer.email }}</span>
            </dd>
          </div>
        </dl>
      </div>
    </div>
  </div>
</body>